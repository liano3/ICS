## 第四次作业

### T1

##### (a)

立即数，寄存器，PC 相对寻址，间接寻址，基址偏移。

##### (b)

操作指令：ADD，NOT；

数据搬移指令：LDR，LEA；

控制指令：JMP；

##### (c)

ADD：DR 和 R1 寄存器寻址；R2 寄存器寻址或立即数寻址。

JMP：寄存器寻址。

LEA：立即数寻址。

LDR：基址偏移寻址。

NOT：寄存器寻址。

### T2

##### (a)

256 个存储位置，需要 8 bits 的地址表示。

##### (b)

偏移量为 ±20，所以需要 6 bits 存放偏移量。 

##### (c)

$10-4=6$

### T3

##### (a)

0101 011 010 1 00100

##### (b)

0101 011 010 1 01100

##### (c)

1001 011 010 111111

##### (d)

不能，立即数的表示范围不够。

### T4

ac

ADD多了对寄存器的读取操作

### T5

##### (a)

0001 011 010 1 00000

##### (b)

1001 001 011 111111

0001 001 001 000 010

##### (c)

0001 001 001 1 00000

##### (d)

没有，因为不可能存在既是负数，又是0的数

##### (e)

0101 010 010 1 00000

### T6

$A\oplus B=\overline{A}B+A\overline{B}$

0101 100 100 000 010

0101 101 101 000 001

### T7

R1：`0011 0001 0010 0001`

R2：`0011 0001 0010 0010`

R3：`0100 0101 0110 0111`

R4：`1010 1011 1100 1101`

### T8

LD：取指令时读取内存一次，获取操作数时读取内存一次，不需要执行节拍。

LDI：取指令时读取一次，计算地址时读取一次，取操作数时读取一次，不需要执行节拍。

LEA：取指令时读取一次，不需要获取操作数和执行节拍。

### T9

R1：`0011 0001 0000 0001`

R2：`1100 0100 0000 0100`

### T10

R0：`0000 0000 0000 0000`

R7：`0000 0000 0000 0000`

R6：`0000 0000 0000 0001`

R4 = R5 & R6

若 R4 = 0，(若 R4 != 0，R0 = R0  + 1)

R6 = R6 \* 2

R7 = R7 + 1

R1 = R7 - 8

若 R1 < 0，转 R4 = R5 & R6，否则 R7 = 0（结束）

$R_1\geq 0\Rightarrow R_7\geq 8$ ，所以循环了八次，而 $R_0=5$ ，所以其中有五次满足 $R_4\neq 0$，又因为 $R_6$ 每次左移一位，$R_5$ 的值没有改变，说明 $R_5$ 低 8 位中恰有 5 个1。

### T11

对于 a，直接 ADD 0 或者 AND 1(\*16bits) 即可实现

对于 b，AND + NOT 即可实现

对于 c，乘四，即两次自己加自己即可实现

所以选择 d，对于一般的乘法，用现有指令很难实现

### T12

##### (a)

| D[15:12] | 3    | 2    | 1    | 0    |
| -------- | ---- | ---- | ---- | ---- |
| D[11:8]  | 0    | 1    | 2    | 3    |
| D[7:4]   | 3    | 1    | 2    | 0    |
| D[3:0]   | 2    | 3    | 1    | 0    |

##### (b)

| R/W  | MDR   | MAR  |
| ---- | ----- | ---- |
| W    | x72A3 | 00   |
| W    | x8FAF | 11   |
| R    | x72A3 | 00   |
| R    | xFFFF | 10   |
| W    | x732D | 11   |
| R    | xFFFF | 01   |
| W    | x37A3 | 01   |
| R    | x37A3 | 01   |
| R    | x732D | 11   |

##### (c)

| 7    | 2    | A    | 3    |
| ---- | ---- | ---- | ---- |
| 3    | 7    | A    | 3    |
| F    | F    | F    | F    |
| 7    | 3    | 2    | D    |

